<html>
    <head>
        <title>Bumba KrÄ«t SpÄ“le</title>
    </head>
    <body>
    <canvas id="myCanvas" width="300" height="300" style="border:1px solid"></canvas> 
    <script>
        var canvas = document.getElementById("myCanvas");
        var ctx = canvas.getContext("2d");
    
        var player_x = canvas.width / 2 - 25; // SpÄ“lÄ“tÄja sÄkuma pozÄ«cija
        var player_y = canvas.height - 50; // SpÄ“lÄ“tÄja Y pozÄ«cija
        var playerWidth = 50; // SpÄ“lÄ“tÄja platums
        var playerHeight = 20; // SpÄ“lÄ“tÄja augstums
    
        var ball_x = Math.random() * (canvas.width - 20); // Bumbas sÄkuma X pozÄ«cija
        var ball_y = 0; // Bumbas sÄkuma Y pozÄ«cija
        var ballRadius = 20; // Bumbas rÄdiuss (palielinÄts, lai labÄk atbilstu emoji)
    
        var score = 0;
        var time_remaining = 20; //  taimeris
    
        function MyKeyDownHandler(MyEvent) { 
            if (MyEvent.keyCode == 37 && player_x > 0) {
                player_x -= 10; // PÄrvietot pa kreisi
            }  
            if (MyEvent.keyCode == 39 && player_x + playerWidth < canvas.width) {
                player_x += 10; // PÄrvietot pa labi
            }
        }
    
        function Do_a_Frame() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
    
            ctx.fillStyle = "purple";
            ctx.font = "20px Arial";
            ctx.fillText("Score: " + score, 10, 20);
            ctx.fillText("Time Remaining: " + Math.ceil(time_remaining), 10, 45);
    
            // ZÄ«mÄ“t spÄ“lÄ“tÄju
            ctx.fillStyle = "grey";
            ctx.fillRect(player_x, player_y, playerWidth, playerHeight);
    
            // Bumbas kustÄ«ba
            ball_y += 3; // Bumba krÄ«t
            
            // ZÄ«mÄ“t emoji kÄ bumbu
            ctx.font = "30px Arial"; // IzvÄ“lieties fonta izmÄ“ru
            ctx.fillText("ğŸ€", ball_x, ball_y); // Izmantojiet emoji (Å¡ajÄ gadÄ«jumÄ basketbola)
    
            // PÄrbaudÄ«t, vai bumba ir nokritusi
            if (ball_y > canvas.height) {
                ball_y = 0; // Atjaunot bumbu uz augÅ¡u
                ball_x = Math.random() * (canvas.width - ballRadius * 2); // Jauna X pozÄ«cija
            }
    
            // PÄrbaudÄ«t, vai spÄ“lÄ“tÄjs ir noÄ·Ä“ris bumbu
            if (ball_y >= player_y && ball_x + ballRadius > player_x && ball_x - ballRadius < player_x + playerWidth) {
                score += 1; // PalielinÄt punktus
                ball_y = 0; // Atjaunot bumbu uz augÅ¡u
                ball_x = Math.random() * (canvas.width - ballRadius * 2); // Jauna X pozÄ«cija
            }
        }
    
        // Taimeris
        function updateTimer() {
            if (time_remaining > 0) {
                time_remaining -= 1 / 40; // SamazinÄt laiku (25 ms = 1/40 sekundes)
            } else {
                clearInterval(gameInterval); // ApturÄ“t spÄ“li, kad laiks beidzas
                alert("SpÄ“le beigusies! JÅ«su rezultÄts: " + score);
            }
        }
    
        // SÄkt spÄ“les ciklu
        var gameInterval = setInterval(function() {
            Do_a_Frame();
            updateTimer();
        }, 25);
    
        window.addEventListener("keydown", MyKeyDownHandler); 
    </script>
    </body>
    </html>